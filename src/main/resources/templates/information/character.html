<!DOCTYPE html>
<html lang="ko" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" layout:decorate="~{layout}"
>

<!-- index.html 고유 CSS 추가 -->
<th:block layout:fragment="css">
  <!--    <link rel="stylesheet" th:href="@{/css/page/home.css}" >-->
</th:block>
<!-- index.html 고유 스크립트 추가 -->
<th:block layout:fragment="script">
  <script th:inline="javascript">
        const character = /*[[${character}]]*/;

        document.addEventListener("DOMContentLoaded", function () {
        defaultStarSet()
      });
      function defaultStarSet(){
      switch(character.defaultStar){
          case 1: document.getElementById('star').innerText = '★'
          break;
          case 3: document.getElementById('star').innerText = '★★'
          break;
          case 5: document.getElementById('star').innerText = '★★★'
          break;
        }
      }
    </script>
  <!--    <script th:src="@{/js/page/home.js}"></script>-->
</th:block>

<!-- Content -->
<div layout:fragment="content">
  <div class="row">
    <div class="col col-md-auto">
      <img class="image-fluid" th:src="${character.profile}" onerror="this.onerror=null; this.src='/image/character/케릭터.png';">
    </div>
    <div class="col col-md-10">
      <table class="table table-border">
        <tbody>
        <tr>
          <th class="table-active">name</th>
          <td><span th:text="${character.characterName}"></span></td>
          <th class="table-active">
            <span>company</span>
          </th>
          <td><span th:text="${character.companyType}"></span></td>
        </tr>
        <tr>
          <th class="table-active">
            <span>class</span>
          </th>
          <td><span th:text="${character.roleType}"></span></td>
          <th class="table-active">
            <span>star</span>
          </th>
          <td><span th:id="star" th:text="${character.defaultStar}"></span></td>
        </tr>
        <tr>
          <th class="table-active">
            <span>main stat</span>
          </th>
          <td><span th:text="${character.dealType}"></span></td>
          <th class="table-active">
            <span>area type</span>
          </th>
          <td><span th:text="${character.areaType}"></span></td>
        </tr>
        </tbody>
      </table>
    </div>
  </div>
  <div class="row">
    <div class="col">
    <table class="table table-border">
      <thead>
      <tr>
        <th class="table-active"><span>type</span></th>
        <th class="table-active"><span>skill name</span></th>
        <th class="table-active"><span>skill effect</span></th>
        <th class="table-active"><span>sub effect</span></th>
      </tr>
      </thead>
      <tbody>
      <tr th:each="skills : ${character.characterSkillsDtoList}">
        <td class="text-break" style="width: 1rem;" th:id="${skills?.skillType}"><span th:text="${skills?.skillType}"></span></td>
        <td class="text-break" style="width: 2rem;"><span th:text="${skills?.skillName}"></span></td>
        <td class="text-break" style="width: 16rem;"><span th:id="${skills.skillName}" th:text="${skills.explain}"></span></td>
        <td class="text-break" style="width: 6rem;"><span th:text="${skills?.effect}"></span></td>
      </tr>
      </tbody>
    </table>
    </div>
  </div>
  <div class="row">
    <div class="col col-xl-6">
    <table class="table table-border">
      <thead>
      <tr>
        <th class="table-active"><span>아이템</span></th>
        <th class="table-active"><span>선호도</span></th>
        <th class="table-active"><span>티어</span></th>
      </tr>
      </thead>
      <tbody>
      <tr th:each="goods : ${character.goodsCharacterDtoList}" >
        <td class="text-break"><span th:text="${goods.goodsName}"></span></td>
        <td class="text-break"><span th:if="${goods.goodsLike}">좋아함</span>
          <span th:if="${!goods.goodsLike}">싫어함</span></td>
        <td class="text-break"><span th:text="${goods.goodsLevel}"></span></td>
      </tr>
      </tbody>
    </table>
    </div>
    <div class="col col-xl-6">
    <table class="table table-border">
      <tbody>
      <tr>
        <th class="table-active"><span>능력치</span></th>
        <th class="table-active"><span>스탯</span></th>
      </tr>
      <tr th:each="goodsStatus : ${character.goodsStatusCharactersDtoList}">
        <td class="text-break"><span th:id="${goodsStatus?.statusName}" th:text="${goodsStatus?.statusName}"></span></td>
        <td class="text-break"><span th:text="${goodsStatus?.status}"></span></td>
      </tr>
      </tbody>
    </table>
  </div>
  </div>
  <div class="row">
    <div class="col">
    <table class="table table-border">
      <thead>
      <tr>
        <th class="table-active"><span>타입</span></th>
        <th class="table-active"><span>세트</span></th>
        <th class="table-active"><span>세트옵션</span></th>
        <th class="table-active"><span>메인옵션</span></th>
        <th class="table-active"><span>서브옵션</span></th>
      </tr>
      </thead>
      <tbody>
      <tr th:each="algorithm : ${character.characterAlgorithmDtoList}">
        <td class="text-break"><span th:text="${algorithm?.algorithmType}"></span></td>
        <td class="text-break"><span th:text="${algorithm?.setAlgorithmDto.setAlgorithmName}"></span></td>
        <td class="text-break"><span th:text="${algorithm?.setAlgorithmDto.twoSetOpt}"></span><br><span th:text="${algorithm?.setAlgorithmDto?.threeSetOpt}"></span></td>
        <td class="text-break"><span th:text="${algorithm?.mainOpt}"></span></td>
        <td class="text-break"><span th:text="${algorithm?.subOpt1}"></span><br><span th:text="${algorithm?.subOpt2}"></span></td>
      </tr>
      </tbody>
    </table>
    </div>
  </div>
  <div class="row text-align-center" th:each="skin : ${character.skinDtoList}">
    <span th:text="${skin.type}"></span>
    <img class="image-fluid" th:src="${skin.stdName}" onerror="this.onerror=null; this.src='/image/character/케릭터.png';">
  </div>
</div>
</html>