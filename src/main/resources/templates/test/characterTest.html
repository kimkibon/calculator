<!DOCTYPE html>
<html lang="ko" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org"
    xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" layout:decorate="~{layout}"
    xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5">

<!-- index.html 고유 CSS 추가 -->
<th:block layout:fragment="css">
    <!--    <link rel="stylesheet" th:href="@{/css/page/home.css}" >-->
</th:block>
<!-- index.html 고유 스크립트 추가 -->
<th:block layout:fragment="script">
    <script th:inline="javascript">
        const character = /*[[${character}]]*/;
    </script>
    <!--    <script th:src="@{/js/page/home.js}"></script>-->
</th:block>

<!-- Content -->
<div layout:fragment="content">
<div class="row m-5">
    <div class="col col-md-2">
        <img th:src="${'/image/character/'+character.characterName+'.png'}" onerror="this.onerror=null; this.src='/image/character/케릭터.png';">
    </div>
    <div class="col col-md-10">
        <table class="table">
            <tbody>
            <tr>
                <th>name</th>
                <td><p th:text="${character.characterName}"></p></td>
                <th>
                    <p>company</p>
                </th>
                <td><p th:text="${character.companyType}"></p></td>
            </tr>
            <tr>
                <th>
                    <p>class</p>
                </th>
                <td><p th:text="${character.roleType}"></p></td>
                <th>
                    <p>star</p>
                </th>
                <td><p th:text="${character.defaultStar}"></p></td>
            </tr>
            </tbody>
        </table>
    </div>
</div>
    <div class="row m-5">
        <table class="table">
            <tbody>
            <tr>
                <th><p>type</p></th>
                <th><p>skill name</p></th>
                <th><p>skill effect</p></th>
                <th><p>sub effect</p></th>
            </tr>
            <tr th:each="skills : ${character.characterSkillsDtoList}">
                <td class="text-break" style="width: 1rem;" th:id="${skills?.skillType}"><p th:text="${skills?.skillType}"></p></td>
                <td class="text-break" style="width: 2rem;"><p th:text="${skills?.skillName}"></p></td>
                <td class="text-break" style="width: 16rem;"><p th:text="${skills?.explain}"></p></td>
                <td class="text-break" style="width: 6rem;"><p th:text="${skills?.effect}"></p></td>
            </tr>
            </tbody>
        </table>
    </div>
    <div class="row m-5">
        <table class="table">
            <tbody>
            <tr>
                <th><p>아이템</p></th>
                <th><p>선호도</p></th>
                <th><p>티어</p></th>
            </tr>
            <tr th:each="goods : ${character.goodsStatusCharactersDtoList}" th:if="${goods.goodsLike}">
                <td class="text-break"><p th:text="${goods?.goodsName}"></p></td>
                <td class="text-break"><p th:text="${goods?.goodsLike}"></p></td>
                <td class="text-break"><p th:text="${goods?.goodsLevel}"></p></td>
            </tr>
            <tr th:each="goods : ${character.goodsStatusCharactersDtoList}" th:if="${!goods.goodsLike}">
                <td class="text-break"><p th:text="${goods?.goodsName}"></p></td>
                <td class="text-break"><p th:text="${goods?.goodsLike}"></p></td>
                <td class="text-break"><p th:text="${goods?.goodsLevel}"></p></td>
            </tr>
            </tbody>
        </table>
    </div>
    <div class="row m-5">
        <table class="table">
            <tbody>
            <tr>
                <th><p>능력치</p></th>
                <th><p>스탯</p></th>
            </tr>
            <tr th:each="goodsStatus : ${character.goodsCharacterDtoList}">
                <td class="text-break"><p th:text="${goodsStatus?.statusName}"></p></td>
                <td class="text-break"><p th:text="${goodsStatus?.status}"></p></td>
              </tr>
            </tbody>
        </table>
    </div>
    <div class="row m-5">
        <table class="table">
            <tbody>
            <tr>
                <th><p>타입</p></th>
                <th><p>세트</p></th>
                <th><p>세트옵션</p></th>
                <th><p>메인옵션</p></th>
                <th><p>서브옵션</p></th>
            </tr>
            <tr th:each="algorithm : ${character.characterAlgorithmDtoList}">
                <td class="text-break"><p th:text="${algorithm?.algorithmType}"></p></td>
                <td class="text-break"><p th:text="${algorithm?.setAlgorithmName}"></p></td>
                <td class="text-break"><p th:text="${algorithm?.twoSetOpt}"></p><p th:text="${algorithm?.threeSetOpt}"></p></td>
                <td class="text-break"><p th:text="${algorithm?.mainOpt}"></p></td>
                <td class="text-break"><p th:text="${algorithm?.subOpt1}"></p><p th:text="${algorithm?.subOpt2}"></p></td>
            </tr>
            </tbody>
        </table>
    </div>
</div>
</div>
</html>